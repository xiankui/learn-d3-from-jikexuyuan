<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>learn d3 from jikexuyuan step by step</title>
</head>
<body>
	
	<script src='./d3.v4.js'></script>
	<script>
		/** 
		 * @desc 绘制一个svg横向柱状图 * 数据可视化
		 *	 <svg>
		 *	 <rect></rect>
		 *	 <rect></rect>
		 *	 </svg>
		 */

		/**
		 * @desc 使用比例尺 (scale)
		 * 将某一区域的值映射到另一区域，其大小关系不变。
		 * 定义域 (domain) => 值域 (range)
		 *
		 * @scale type
		 * 线性比例尺 d3.scaleLinear
		 * 序数比例尺 d3.scaleOrdinal
		 */

		var width = 300;  //画布的宽度
		var height = 300;   //画布的高度

		var svg = d3.select("body")     //选择文档中的body元素
		    .append("svg")          //添加一个svg元素
		    .attr("width", width)       //设定宽度
		    .attr("height", height);    //设定高度

		var dataset = [ 2.5 , 2.1 , 1.7 , 1.3 , 0.9 ];  //数据（表示矩形的宽度）

		var linear = d3.scaleLinear()
		        .domain([0, d3.max(dataset)])
		        .range([0, 250]);

		var rectHeight = 25;   //每个矩形所占的像素高度(包括空白)

		svg.selectAll("rect")   //选择svg内所有的矩形
		    .data(dataset)  //绑定数组
		    .enter()        //指定选择集的enter部分
		    .append("rect") //添加足够数量的矩形元素
		    .attr('x', 20)
		    .attr('y', function (d, i) {
		    	return i * rectHeight;
		    })
		    .attr('width', function (d, i) {
		    	return linear(d);
		    })
		    .attr('height', rectHeight - 2)
		    .attr('fill', 'steelblue');

	</script>
</body>
</html>