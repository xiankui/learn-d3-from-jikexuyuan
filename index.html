<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>learn d3 from jikexuyuan step by step</title>
</head>
<body>
	
	<script src='./d3.v4.js'></script>
	<script>
		/** 
		 * @desc svg
		 * 在 SVG 画布的预定义元素里，有六种基本图形和一种基础元素
		 *	 矩形 
		 *	 圆形 
		 *	 椭圆 
		 *	 线段 
		 *	 折线 
		 *	 多边形 
		 * 	 路径
		 */

		/**
		 * @desc 坐标轴的组成结构
		 *	<g>
		 *	<!-- 第一个刻度 -->
		 *	<g>
		 *	<line></line>   <!-- 第一个刻度的直线 -->
		 *	<text></text>   <!-- 第一个刻度的文字 -->
		 *	</g>
		 *	<!-- 第二个刻度 -->
		 *	<g>
		 *	<line></line>   <!-- 第二个刻度的直线 -->
		 *	<text></text>   <!-- 第二个刻度的文字 -->
		 *	</g> 
		 *	...
		 *	<!-- 坐标轴的轴线 -->
		 *	<path></path>
		 *	</g>
		 */

		

		var width = 300;  //画布的宽度
		var height = 300;   //画布的高度

		var svg = d3.select("body")     //选择文档中的body元素
		    .append("svg")          //添加一个svg元素
		    .attr("width", width)       //设定宽度
		    .attr("height", height);    //设定高度

		var dataset = [ 2.5 , 2.1 , 1.7 , 1.3 , 0.9 ];  //数据（表示矩形的宽度）

		// 定义比例尺
		var linear = d3.scaleLinear()
		        .domain([0, d3.max(dataset)])
		        .range([0, 250]);

		// 定义坐标轴
		var axis = d3.axisBottom()
		     .scale(linear)      //指定比例尺
		     .ticks(7);          //指定刻度的数量

		var rectHeight = 25;   //每个矩形所占的像素高度(包括空白)

		svg.selectAll("rect")   //选择svg内所有的矩形
		    .data(dataset)  //绑定数组
		    .enter()        //指定选择集的enter部分
		    .append("rect") //添加足够数量的矩形元素
		    .attr('x', 20)
		    .attr('y', function (d, i) {
		    	return i * rectHeight;
		    })
		    .attr('width', function (d, i) {
		    	return linear(d);
		    })
		    .attr('height', rectHeight - 2)
		    .attr('fill', 'steelblue');

		svg.append("g")
		  // .attr("class","axis")  d3.v4.js 内置样式优化
		  .attr("transform","translate(20,130)")
		  .call(axis);
	</script>
</body>
</html>